var $;jQuery,window.houzezOpenStreetMapElementor=function(e,t,a){if(void 0!==t&&0<t.length){var r,i,o,l=[],n=a.mapbox_api_key;a.zoomControl;var s=a.infoWindowPlac;a.clusterIcon;var p=a.link_target;a.clusterer_zoom;var c,m=parseFloat(houzez_vars.default_lat),d=parseFloat(houzez_vars.default_long),h="yes"==(c=a.mapCluster);if(""!=n)var g=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token="+n,{attribution:'\xa9 <a href="https://www.mapbox.com/about/maps/">Mapbox</a> \xa9 <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:"YOUR_MAPBOX_ACCESS_TOKEN"});else var g=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});var u=function(e){for(var t=[],a=0;a<e.length;a++)e[a].lat&&e[a].lng&&t.push([e[a].lat,e[a].lng]);return t};if(t.length>0){var i=u(t),v=L.latLng(m,d);1==i.length&&(v=L.latLng(i[0]));var a={dragging:!0,center:v,zoom:10,tap:!1};(r=L.map(document.getElementById(e),a)).scrollWheelZoom.disable(),1<i.length&&r.fitBounds(i),r.addLayer(g),function(e,t){var a,r=u(e);1<r.length&&t.fitBounds(r),1==h&&(o=new L.MarkerClusterGroup({iconCreateFunction:function(e){var t='<div class="houzez-osm-cluster">'+e.getAllChildMarkers().length+"</div>";return L.divIcon({html:t,className:"mycluster",iconSize:L.point(47,47)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0}));for(var i=0;i<e.length;i++)if(e[i].lat&&e[i].lng){var n=e[i],c=L.latLng(n.lat,n.lng),m={riseOnHover:!0};if(n.title&&(m.title=n.title),n.marker){var d={iconUrl:n.marker,iconSize:[44,56],iconAnchor:[20,57],popupAnchor:[1,-57]};n.retinaMarker&&(d.iconRetinaUrl=n.retinaMarker),m.icon=L.icon(d)}a=1==h?new L.Marker(c,m):L.marker(c,m).addTo(t),1==h&&o.addLayer(a);var g=document.createElement("div");g.className="map-info-window";var v="";v+='<div class="item-wrap">',v+='<div class="item-header">',e[i].thumbnail?v+='<a target="'+p+'" href="'+e[i].url+'"><img class="img-fluid" src="'+e[i].thumbnail+'" alt="'+e[i].title+'"/></a>':v+='<a target="'+p+'" href="'+e[i].url+'"><img class="img-fluid" src="'+s+'" width="120" height="90" alt="'+e[i].title+'"/></a>',v+="</div>",v+='<div class="item-body flex-grow-1">',v+='<h2 class="item-title">',v+='<a target="'+p+'" href="'+e[i].url+'">'+e[i].title+"</a>",v+="</h2>",v+='<ul class="list-unstyled item-info">',e[i].price&&(v+='<li class="item-price">'+e[i].price+"</li>"),e[i].property_type&&(v+='<li class="item-type">'+e[i].property_type+"</li>"),v+="</ul>",v+="</div>",v+="</div>",g.innerHTML=v,a.id=n.property_id,l.push(a),a.bindPopup(g)}1==h&&t.addLayer(o)}(t,r)}else(r=L.map(document.getElementById(e),{center:[25.68654,-80.431345],zoom:10})).addLayer(g),r.scrollWheelZoom.disable()}};